<style>
.sunny { color: #cc0000; }
.couldy { color: #666666; }
.rainy { color: #3333cc; }
</style>

<h1>Hourly Weather</h1>

<table>
  <tr>
    <th></th>
    <th></th>
    <th>temp</th>
    <th>wind</th>
    <th>rain</th>
  </tr>

<% @weather.hour_reports.each_with_index do |report, i| %>
  <% if i.zero? || @weather.hour(i).to_i.zero? %>
  <tr class="day">
    <td colspan="5" class="day"><%= @weather.day_by_hour(i) %></td>
  </tr>
  <% end %>
  <% next if i % 3 != 0 %>
  <tr>
    <td><%= @weather.hour(i) %></td>
    <td>
    <% if icon = weather_icons(report.weather).first %>
      <i class="<%= icon %> icon-large"></i>
    <% else %>
      <%= weather_name(report.weather) %>
    <% end %>
    </td>
    <td><%= report.temperature %></td>
    <td>
      <%= wind_value report %>
      <!--      <%= report.wind_direction %>/<%= report.wind %> -->
    </td>
    <td><%= report.rain %></td>
  </tr>
<% end %>
</table>

<hr>

<h1>Weekly Weather</h1>
<table>
  <tr>
    <th></th>
    <th></th>
    <th>temp</th>
    <th>rain</th>
  </tr>
<% @weather.week_reports.each_with_index do |report, i| %>
  <tr>
    <td class='font-l'>
      <%= report.date.strftime('%m/%d') %>
    </td>
    <% icon1, connect, icon2 = weather_icons report.weather %>
    <td>
      <i class="<%= icon1 %> icon-2x"></i>
    <% if icon2 %>
      <span><%= connect == 1 ? '/' : '|' %></span>
      <i class="<%= icon2 %><%= ' icon-2x' if connect != 1 %>"></i>
    <% end %>
    </td>
    <td><%= report.min_temperature %>/<%= report.max_temperature %></td>
    <td><%= report.chance_of_rain %>%</td>
  </tr>
<% end %>
</table>
